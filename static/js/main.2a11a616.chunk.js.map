{"version":3,"sources":["useData.js","Threedee.js","Twodee.js","useCSVnoCor.js","TwodeePolling.js","ThreedeePolling.js","useCSV.js","TwoNode.js","TwoNode3d.js","TwoNodeD3.js","Dag.js","App.js","reportWebVitals.js","index.js"],"names":["useData","NUM","useState","data","setData","jsonUrl","join","useEffect","formattedData","nodes","links","json","then","d","Set","map","item","node","push","id","filter","e","length","source","target","value","console","log","Threedee","forceGraph","useRef","myScale","scaleLinear","domain","range","current","d3Force","strength","graphData","nodeLabel","linkLabel","linkWidth","linkOpacity","ref","nodeThreeObject","sprite","SpriteText","color","textHeight","csvURL","Twodee","dataURL","flatten","arr","reduce","flat","toFlatten","concat","Array","isArray","graph_data","datum","SYMBOL","row","Object","entries","entry","parsedCSV","a","csv","flat_data","link","useCSVnoCor","linkDistScale","linkStrengthScale","distance","href","nodeColor","nodeCanvasObject","ctx","globalScale","label","fontSize","font","bckgDimensions","measureText","width","n","fillStyle","fillRect","x","y","textAlign","textBaseline","fillText","__bckgDimensions","nodePointerAreaPaint","TwodeePolling","getUniqueNodes","nodeList","parents","children","concattedArray","nd","fetchData","dataId","prevData","fetch","res","jsonData","new_nodes","new_links","b","filteredNodes","el","find","element","updateNo","timer","setInterval","clearInterval","ThreedeePolling","useCSV","TwoNode","setSource","targ","setTarget","sourceList","setSourceList","targList","setTargList","setGraphData","corScore","setCorScore","includes","findLink","src","trg","l","name","onChange","handleSourceSelect","selected","disabled","hidden","key","style","marginLeft","handleTargSelect","TwoNode3d","linkColor","TwoNodeD3","select","text","Dag","dagMode","dagLevelDistance","Nav","margin","className","to","App","basename","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2a11a616.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { json } from \"d3\";\n\nexport const useData = (NUM) => {\n  const [data, setData] = useState(null);\n\n  const jsonUrl = [\n    \"https://gist.githubusercontent.com\",\n    \"Emceelamb\",\n    \"565435c5930849fa9ad1b75571ac5d07\",\n    \"raw\",\n    \"b2904e1d8019318a8fa494261460574731a42b27\", // commit string\n    `gme_correlation_${NUM}.json`,\n  ].join(\"/\");\n\n  useEffect(() => {\n    const formattedData = { nodes: [], links: [] };\n    json(jsonUrl)\n      .then((d) => {\n        const uniqueParent = [...new Set(d.map((item) => item[\"parent_node\"]))];\n        uniqueParent.map((node) => formattedData.nodes.push({ id: node }));\n\n        const uniqueChild = [...new Set(d.map((item) => item[\"child_node\"]))];\n        uniqueChild.map((node) => {\n          // console.log(formattedData.nodes.filter(e=>e.id===node), \"nodes\");\n          if (formattedData.nodes.filter((e) => e.id === node).length === 0) {\n            formattedData.nodes.push({ id: node });\n          }\n\n        });\n        //links: [{\"source\": 3, \"target\": 2, \"value\": \"aux\"}, ...]\n        // console.log(formattedData.nodes.filter((d) => d.id == \"automobiles\"));\n\n        d.map((item) => {\n          // const source = formattedData[\"nodes\"].findIndex(\n          //   (obj) => obj.value === item[\"parent_node\"]\n          // );\n          // const target = formattedData[\"nodes\"].findIndex(\n          //   (obj) => obj.value === item[\"child_node\"]\n          // );\n          // formattedData[\"links\"].push({source: source, target: target, value: item[\"score\"]})\n          formattedData[\"links\"].push({\n            source: item[\"parent_node\"],\n            target: item[\"child_node\"],\n            value: item[\"score\"],\n          });\n        });\n        console.log(formattedData);\n        return formattedData;\n      })\n      .then(setData);\n  }, []);\n\n  return data;\n};\n","import { ForceGraph3D, ForceGraph2D } from \"react-force-graph\";\n\nimport { useRef, useState, useEffect, useCallback, useMemo } from \"react\";\nimport { scaleLinear } from \"d3\";\nimport { useData } from \"./useData\";\nimport SpriteText from 'three-spritetext';\n\nexport const Threedee = () => {\n  const data = useData(3);\n\n  const forceGraph = useRef(null);\n\n  const myScale = scaleLinear().domain([1, 10]).range([0, 3]);\n  const colorScale = scaleLinear().domain([1, 10]).range([\"#eff2f2\", \"red\"]);\n\n  useEffect(() => {\n    console.log(data);\n    if (!data) {\n      return <>Loading</>;\n    }\n    forceGraph.current.d3Force(\"charge\").strength(-500);\n  });\n  return (\n    <div>\n      {data ? (\n        <ForceGraph3D\n          graphData={data}\n          nodeLabel={(d) => d.id}\n          linkLabel={(d) => `Correlation value: ${d.value}`}\n          // linkCurvature={0.1}\n          // nodeColor={(d) => (d.id[0] === \"$\" ? \"#19686b\" : \"yellow\")}\n          linkWidth={(d) => myScale(d.value)}\n          // linkCurveRotation={1}\n          linkOpacity={0.5}\n          // linkColor={(d) => colorScale(d.value)}\n          // forceEngine={'graph'}\n          ref={forceGraph}\n\n          nodeThreeObject={node => {\n            const sprite = new SpriteText(node.id);\n            sprite.color = \"white\";\n            sprite.textHeight = 8;\n            return sprite;\n          }}\n       \n        />\n      ) : (\n        <>Loading</>\n      )}\n    </div>\n  );\n};\n","import { ForceGraph2D } from \"react-force-graph\";\n\nimport { useRef, useState,  useEffect } from \"react\";\nimport { scaleLinear } from \"d3\";\n\n// import { useData } from \"./useData\";\nimport { useCSVnoCor } from \"./useCSVnoCor\";\n\nconst csvURL = [\n  'https://gist.githubusercontent.com',\n  'Emceelamb',\n  '184a627df887fc945d202c69333cb133',\n  'raw',\n  '016259ba32443fd673e01693b30f3f91920aed7c',\n  // 'transformers_2021-11-09.csv'   // AAPL STOCKS\n  'correlation_bert_2021-10-13_10_59_32.csv'  // BERT\n].join('/')\n\nexport const Twodee = () => {\n  const data = useCSVnoCor(csvURL);\n  // const data = useData(csvData);\n  \n  // const data = useData(csvData);\n  //const [data, setData] = useState(null);\n  const forceGraph = useRef(null);\n\n  const myScale = scaleLinear().domain([0, 1]).range([0, 20]);\n  const colorScale = scaleLinear().domain([1, 10]).range([\"#eff2f2\", \"red\"]);\n\n  const linkDistScale = scaleLinear().domain([1,0]).range([0, 1000]);\n  const linkStrengthScale = scaleLinear().domain([0,1]).range([0, 1]);\n\n  useEffect(() => {\n    if (!data) {\n      return <>Loading</>;\n    }\n    forceGraph.current.d3Force(\"charge\").strength(-500);\n    forceGraph.current.d3Force(\"link\")\n      .distance(link =>{return linkDistScale(link.value)})\n      .strength(link =>{console.log(link.value, linkStrengthScale(link.value)); return linkStrengthScale(link.value)})\n  });\n\n  // const demoData = useData(x);\n  // setData(demoData);\n  return (\n    <div>\n      <div>\n        <p>Dataset: <a href=\"https://gist.githubusercontent.com/Emceelamb/184a627df887fc945d202c69333cb133/raw/016259ba32443fd673e01693b30f3f91920aed7c/correlation_bert_2021-10-13_10_59_32.csv\">BERT</a></p>\n      </div>\n      {data ? (\n        <ForceGraph2D\n          ref={forceGraph}\n          graphData={data}\n          nodeLabel={(d) => d.id}\n          linkLabel={(d) => `${d.source.id} > ${d.target.id} <br>Correlation value: ${d.value}`}\n          // linkCurvature={0.1}\n          nodeColor={(d) => (d.id[0] === \"$\" ? \"#19686b\" : \"yellow\")}\n          linkWidth={(d) => { return myScale(d.value)}}\n          // linkCurveRotation={1}\n          linkOpacity={0.8}\n          // linkColor={(d) => colorScale(d.value)}\n          // forceEngine={'graph'}\n\n          nodeCanvasObject={(node, ctx, globalScale) => {\n            const label = node.id;\n            const fontSize = 18/globalScale;\n            ctx.font = `${fontSize}px Sans-Serif`;\n            const textWidth= ctx.measureText(label).width;\n            const bckgDimensions = [textWidth, fontSize].map(n=> n + fontSize * 0.2);\n\n            ctx.fillStyle = 'rgba(255, 255, 255, 0.8';\n            ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - bckgDimensions[1] /2, ...bckgDimensions);\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillStyle = \"black\";\n            ctx.fillText(label, node.x, node.y);\n\n            node.__bckgDimensions = bckgDimensions;\n          }}\n\n          nodePointerAreaPaint={(node, color, ctx) => {\n            ctx.fillStyle = color;\n            const bckgDimensions = node.__bckgDimensions;\n            bckgDimensions && ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - bckgDimensions[1] /2, ...bckgDimensions)\n          }}\n\n\n\n        />\n      ) : (\n        <>Loading</>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { csv, format } from \"d3\";\n\nexport const useCSVnoCor = (dataURL) => {\n\n  const [data, setData] = useState(null);\n\n  const formattedData = { nodes: [], links: [] };\n\n  const flatten = (arr) => {\n    return arr.reduce(function (flat, toFlatten) {\n      return flat.concat(\n        Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten\n      );\n    }, []);\n  };\n\n  const graph_data = (data) => {\n    return data.map((datum) => {\n      let source = datum.SYMBOL;\n      delete datum[\"SYMBOL\"];\n\n      let row = [];\n      for (const [key, value] of Object.entries(datum)) {\n        let entry = {\n          \"source\": source,\n          \"target\": key,\n          \"value\": +value,\n        };\n        row.push(entry);\n      }\n      return row;\n    });\n  };\n\n  useEffect(()=>{    \n    const formattedData = { nodes: [], links: [] };\n\n    const parsedCSV = async() => {\n      const data = await csv(dataURL)\n      const graphData = await graph_data(data);\n      const flat_data = await flatten(graphData);\n\n      const uniqueParent = [...new Set(flat_data.map((item) => item[\"source\"]))];\n      uniqueParent.map((node) => formattedData.nodes.push({ id: node }));\n\n      const uniqueChild = [...new Set(flat_data.map((item) => item[\"target\"]))];\n      uniqueChild.map((node) => {\n        // console.log(formattedData.nodes.filter(e=>e.id===node), \"nodes\");\n        if (formattedData.nodes.filter((e) => e.id === node).length === 0) {\n          formattedData.nodes.push({ id: node });\n        }\n      });\n      //links: [{\"source\": 3, \"target\": 2, \"value\": \"aux\"}, ...]\n      // console.log(formattedData.nodes.filter((d) => d.id == \"automobiles\"));\n\n      // REMOVEOS ZERO CORELLATION VALUES\n      const flat_data_removed = flat_data.filter((link) => link[\"value\"] !== 0)\n\n      flat_data_removed.map((item) => {\n        // const source = formattedData[\"nodes\"].findIndex(\n        //   (obj) => obj.value === item[\"parent_node\"]\n        // );\n        // const target = formattedData[\"nodes\"].findIndex(\n        //   (obj) => obj.value === item[\"child_node\"]\n        // );\n        // formattedData[\"links\"].push({source: source, target: target, value: item[\"score\"]})\n        formattedData[\"links\"].push({\n          source: item[\"source\"],\n          target: item[\"target\"],\n          value: item[\"value\"],\n        });\n      });\n\n      setData(formattedData)\n    }\n\n    parsedCSV()\n\n  }, [])\n  return data;\n};\n","import { ForceGraph2D } from \"react-force-graph\";\n\nimport { useRef, useState, useEffect, useCallback, useMemo } from \"react\";\nimport { scaleLinear } from \"d3\";\n\nimport { useData } from \"./useData\";\n\nexport const TwodeePolling = () => {\n  const [data, setData] = useState({ nodes: [], links: [] });\n  const [dataLoad, setDataLoad] = useState(false);\n  const [datasetID, setDatasetID] = useState(2);\n\n  const forceGraph = useRef(null);\n\n  const myScale = scaleLinear().domain([1, 10]).range([0, 3]);\n  const colorScale = scaleLinear().domain([1, 10]).range([\"#eff2f2\", \"red\"]);\n\n  const getUniqueNodes = (nodeList) => {\n    let parents = [...new Set(nodeList.map((node) => node[\"parent_node\"]))];\n    let children = [...new Set(nodeList.map((node) => node[\"child_node\"]))];\n    let concattedArray = parents.concat(children);\n    let unique = [...new Set(concattedArray)];\n    return unique.map((nd) => {\n      return { id: nd };\n    });\n  };\n\n  const filterById = (a, b) => {\n    let res = [];\n    res = a.filter((el) => {\n      return !b.find((element) => {\n        return element.id === el.id;\n      });\n    });\n    return res;\n  };\n\n  const getLinks = (nodeList) => {\n    return nodeList.map((nd) => {\n      return {\n        source: nd[\"parent_node\"],\n        target: nd[\"child_node\"],\n        value: nd[\"score\"],\n      };\n    });\n  };\n\n  const fetchData = async (dataId, prevData) => {\n    console.log(\"fetch data\", dataId);\n    const jsonUrl = [\n      \"https://gist.githubusercontent.com\",\n      \"Emceelamb\",\n      \"565435c5930849fa9ad1b75571ac5d07\",\n      \"raw\",\n      \"b2904e1d8019318a8fa494261460574731a42b27\", // commit string\n      `gme_correlation_${dataId}.json`,\n    ].join(\"/\");\n\n    const res = await fetch(jsonUrl);\n    const jsonData = await res.json();\n\n    const new_nodes = getUniqueNodes(jsonData);\n\n    const new_links = getLinks(jsonData);\n    console.log(data);\n    setData(({ nodes, links }) => {\n      const filteredNodes = filterById(new_nodes, [...nodes]);\n      return {\n        nodes: [...nodes, ...filteredNodes],\n        links: [...links, ...new_links],\n      };\n    });\n  };\n\n  useEffect(() => {\n    if (data[\"nodes\"].length < 1) {\n      console.log(\"not loaded\");\n      return <>Loading</>;\n    }\n    forceGraph.current.d3Force(\"charge\").strength(-500);\n  });\n\n  let updateNo = 1;\n\n  useEffect(() => {\n    console.log(data, \"data refresh\");\n  }, [data]);\n\n  useEffect(() => {\n    // getData(updateNo, data);\n    // fetchData(2);\n    fetchData(updateNo);\n    const timer = setInterval(() => {\n      if (updateNo > 6) {\n        clearInterval(timer);\n      }\n      fetchData(updateNo);\n      updateNo > 8 ? (updateNo = 1) : updateNo++;\n    }, 2000);\n    return () => clearInterval(timer);\n  }, []);\n\n  // const demoData = useData(x);\n  // setData(demoData);\n  return (\n    <div>\n      {data ? (\n        <ForceGraph2D\n          graphData={data}\n          nodeLabel={(d) => {\n            console.log(d, d.id);\n            return d.id;\n          }}\n          linkLabel={(d) => `Correlation value: ${d.value}`}\n          // linkCurvature={0.1}\n          nodeColor={(d) => (d.id[0] === \"$\" ? \"#19686b\" : \"yellow\")}\n          linkWidth={(d) => myScale(d.value)}\n          // linkCurveRotation={1}\n          linkOpacity={0.5}\n          // linkColor={(d) => colorScale(d.value)}\n          // forceEngine={'graph'}\n          ref={forceGraph}\n          // onNodeDragEnd={(node) => {\n          //   node.fx = node.x;\n          //   node.fy = node.y;\n          // }}\n          nodeLabel={(d) => d.id}\n          linkLabel={(d) => `${d.source.id} > ${d.target.id} <br>Correlation value: ${d.value}`}\n          linkOpacity={1}\n\n          nodeCanvasObject={(node, ctx, globalScale) => {\n            const label = node.id;\n            const fontSize = 12/globalScale;\n            ctx.font = `${fontSize}px Sans-Serif`;\n            const textWidth= ctx.measureText(label).width;\n            const bckgDimensions = [textWidth, fontSize].map(n=> n + fontSize * 0.2);\n\n            ctx.fillStyle = 'rgba(255, 255, 255, 0.8';\n            ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - bckgDimensions[1] /2, ...bckgDimensions);\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillStyle = \"black\";\n            ctx.fillText(label, node.x, node.y);\n\n            node.__bckgDimensions = bckgDimensions;\n          }}\n\n          nodePointerAreaPaint={(node, color, ctx) => {\n            ctx.fillStyle = color;\n            const bckgDimensions = node.__bckgDimensions;\n            bckgDimensions && ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - bckgDimensions[1] /2, ...bckgDimensions)\n          }}\n        />\n      ) : (\n        <>Loading...</>\n      )}\n    </div>\n  );\n};\n","import { ForceGraph3D } from \"react-force-graph\";\n\nimport { useRef, useState, useEffect, useCallback, useMemo } from \"react\";\nimport { scaleLinear } from \"d3\";\n\nimport { useData } from \"./useData\";\n\nimport SpriteText from 'three-spritetext';\n// import SpriteText from 'three-spritetext';\n\nexport const ThreedeePolling = () => {\n  const [data, setData] = useState({ nodes: [], links: [] });\n  const [dataLoad, setDataLoad] = useState(false);\n  const [datasetID, setDatasetID] = useState(2);\n\n  const forceGraph = useRef(null);\n\n  const myScale = scaleLinear().domain([1, 10]).range([0, 3]);\n  const colorScale = scaleLinear().domain([1, 10]).range([\"#eff2f2\", \"red\"]);\n\n  const getUniqueNodes = (nodeList) => {\n    let parents = [...new Set(nodeList.map((node) => node[\"parent_node\"]))];\n    let children = [...new Set(nodeList.map((node) => node[\"child_node\"]))];\n    let concattedArray = parents.concat(children);\n    let unique = [...new Set(concattedArray)];\n    return unique.map((nd) => {\n      return { id: nd };\n    });\n  };\n\n  const filterById = (a, b) => {\n    let res = [];\n    res = a.filter((el) => {\n      return !b.find((element) => {\n        return element.id === el.id;\n      });\n    });\n    return res;\n  };\n\n  const getLinks = (nodeList) => {\n    return nodeList.map((nd) => {\n      return {\n        source: nd[\"parent_node\"],\n        target: nd[\"child_node\"],\n        value: nd[\"score\"],\n      };\n    });\n  };\n\n  const fetchData = async (dataId, prevData) => {\n    console.log(\"fetch data\", dataId);\n    const jsonUrl = [\n      \"https://gist.githubusercontent.com\",\n      \"Emceelamb\",\n      \"565435c5930849fa9ad1b75571ac5d07\",\n      \"raw\",\n      \"b2904e1d8019318a8fa494261460574731a42b27\", // commit string\n      `gme_correlation_${dataId}.json`,\n    ].join(\"/\");\n\n    const res = await fetch(jsonUrl);\n    const jsonData = await res.json();\n\n    const new_nodes = getUniqueNodes(jsonData);\n\n    const new_links = getLinks(jsonData);\n    console.log(data);\n    setData(({ nodes, links }) => {\n      const filteredNodes = filterById(new_nodes, [...nodes]);\n      return {\n        nodes: [...nodes, ...filteredNodes],\n        links: [...links, ...new_links],\n      };\n    });\n  };\n\n  useEffect(() => {\n    if (data[\"nodes\"].length < 1) {\n      console.log(\"not loaded\");\n      return <>Loading</>;\n    }\n    forceGraph.current.d3Force(\"charge\").strength(-500);\n  });\n\n  let updateNo = 1;\n\n  useEffect(() => {\n    console.log(data, \"data refresh\");\n  }, [data]);\n\n  useEffect(() => {\n    // getData(updateNo, data);\n    // fetchData(2);\n    fetchData(updateNo);\n    const timer = setInterval(() => {\n      if (updateNo > 6) {\n        clearInterval(timer);\n      }\n      fetchData(updateNo);\n      updateNo > 8 ? (updateNo = 1) : updateNo++;\n    }, 2000);\n    return () => clearInterval(timer);\n  }, []);\n\n  // const demoData = useData(x);\n  // setData(demoData);\n  return (\n    <div>\n      {data ? (\n        <ForceGraph3D\n          graphData={data}\n          nodeLabel={(d) => {\n            console.log(d, d.id);\n            return d.id;\n          }}\n          linkLabel={(d) => `Correlation value: ${d.value}`}\n          // linkCurvature={0.1}\n          // nodeColor={(d) => (d.id[0] === \"$\" ? \"#19686b\" : \"yellow\")}\n          linkWidth={(d) => myScale(d.value)}\n          // linkCurveRotation={1}\n          linkOpacity={0.5}\n          // linkColor={(d) => colorScale(d.value)}\n          // forceEngine={'graph'}\n          ref={forceGraph}\n\n          nodeThreeObject={node => {\n            const sprite = new SpriteText(node.id);\n            sprite.color = \"white\";\n            sprite.textHeight = 8;\n            return sprite;\n          }}\n          // onNodeDragEnd={(node) => {\n          //   node.fx = node.x;\n          //   node.fy = node.y;\n          // }}\n        />\n      ) : (\n        <>Loading...</>\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { csv, format } from \"d3\";\n\nexport const useCSV = (dataURL) => {\n\n  const [data, setData] = useState(null);\n\n  const formattedData = { nodes: [], links: [] };\n\n  const flatten = (arr) => {\n    return arr.reduce(function (flat, toFlatten) {\n      return flat.concat(\n        Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten\n      );\n    }, []);\n  };\n\n  const graph_data = (data) => {\n    return data.map((datum) => {\n      let source = datum.SYMBOL;\n      delete datum[\"SYMBOL\"];\n\n      let row = [];\n      for (const [key, value] of Object.entries(datum)) {\n        let entry = {\n          \"source\": source,\n          \"target\": key,\n          \"value\": +value,\n        };\n        row.push(entry);\n      }\n      return row;\n    });\n  };\n\n  useEffect(()=>{    \n    const formattedData = { nodes: [], links: [] };\n\n    const parsedCSV = async() => {\n      const data = await csv(dataURL)\n      const graphData = await graph_data(data);\n      const flat_data = await flatten(graphData);\n\n      const uniqueParent = [...new Set(flat_data.map((item) => item[\"source\"]))];\n      uniqueParent.map((node) => formattedData.nodes.push({ id: node }));\n\n      const uniqueChild = [...new Set(flat_data.map((item) => item[\"target\"]))];\n      uniqueChild.map((node) => {\n        // console.log(formattedData.nodes.filter(e=>e.id===node), \"nodes\");\n        if (formattedData.nodes.filter((e) => e.id === node).length === 0) {\n          formattedData.nodes.push({ id: node });\n        }\n      });\n      //links: [{\"source\": 3, \"target\": 2, \"value\": \"aux\"}, ...]\n      // console.log(formattedData.nodes.filter((d) => d.id == \"automobiles\"));\n\n      // REMOVEOS ZERO CORELLATION VALUES\n      const flat_data_removed = flat_data.filter((link) => link[\"value\"] !== 0)\n\n      flat_data.map((item) => {\n        // const source = formattedData[\"nodes\"].findIndex(\n        //   (obj) => obj.value === item[\"parent_node\"]\n        // );\n        // const target = formattedData[\"nodes\"].findIndex(\n        //   (obj) => obj.value === item[\"child_node\"]\n        // );\n        // formattedData[\"links\"].push({source: source, target: target, value: item[\"score\"]})\n        formattedData[\"links\"].push({\n          source: item[\"source\"],\n          target: item[\"target\"],\n          value: item[\"value\"],\n        });\n      });\n\n      setData(formattedData)\n    }\n\n    parsedCSV()\n\n  }, [])\n  return data;\n};\n","import { useState, useEffect, useRef } from \"react\";\nimport { useCSV } from \"./useCSV\";\nimport { ForceGraph2D } from \"react-force-graph\";\nimport { scaleLinear } from 'd3';\n\nexport const TwoNode = () => {\n  const forceGraph = useRef(null);\n\n  const [source, setSource] = useState(null);\n  const [targ, setTarget] = useState(null);\n  const [sourceList, setSourceList] = useState(null);\n  const [targList, setTargList] = useState(null);\n\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\n\n  const [corScore, setCorScore] = useState(null);\n\n\n  const dataURL = [\n    \"https://gist.githubusercontent.com\",\n    \"Emceelamb\",\n    \"184a627df887fc945d202c69333cb133\",\n    \"raw\",\n    \"016259ba32443fd673e01693b30f3f91920aed7c\",\n    //'transformers_2021-11-09.csv'   // AAPL STOCKS\n    \"correlation_bert_2021-10-13_10_59_32.csv\", // BERT\n  ].join(\"/\");\n\n  const data = useCSV(dataURL);\n\n  useEffect(() => {\n    if (!data) {\n      return <>Loading...</>;\n    }\n\n    setSourceList(data.nodes.filter(n => n[\"id\"].includes('stock')));\n    setTargList(data.nodes.filter(n => !n[\"id\"].includes('stock')));\n  }, [data]);\n\n  const handleSourceSelect = (e) => {\n    setSource(e.target.value);\n  }\n\n  const handleTargSelect = (e) => {\n    setTarget(e.target.value);\n  }\n\n  const linkDistScale = scaleLinear().domain([1,0]).range([0, 100]);\n  const linkStrengthScale = scaleLinear().domain([0,1]).range([0, 1]);\n\n  useEffect(()=>{\n\n    if(source && targ){\n      const link = findLink(source, targ)\n      setCorScore(link.value)\n      setGraphData({nodes:[{id: source}, {id:targ}], links:[link]})\n    }\n  }, [source, targ])\n\n  useEffect(()=>{\n    if(forceGraph.current){\n      forceGraph.current.d3Force(\"charge\").strength(-500);\n      forceGraph.current.d3Force(\"link\")\n        .distance(link =>{return linkDistScale(link.value)})\n        .strength(link =>{console.log(link.value, linkStrengthScale(link.value)); return linkStrengthScale(link.value)})\n    }\n  }, [graphData])\n\n  const findLink = (src, trg) => {\n    let link = data[\"links\"].filter((l)=> l.source === src && l.target === trg)\n    return link[0]\n  }\n\n\n  useEffect(() => {\n    console.log(data)\n  }, [data])\n\n  return (\n    <>\n      <label>\n        Select source node:\n        <select name=\"source-list\" onChange={(e) => handleSourceSelect(e)}>\n          <option value=\"none\" selected disabled hidden>Select a source</option>\n          {sourceList &&\n            sourceList.map((node, key) => {\n              return <option key={key}>{node.id}</option>;\n            })}\n        </select>\n      </label>\n\n      <label style={{ marginLeft: \"12px\" }}>\n        Select target node:\n        <select name=\"target-list\" onChange={e => handleTargSelect(e)}>\n          <option value=\"none\" selected disabled hidden>Select a target</option>\n          {targList &&\n            targList.map((node, key) => {\n              return <option key={key}>{node.id}</option>;\n            })}\n        </select>\n      </label>\n\n      <p>Source: {source}</p>\n      {\n        corScore && (\n          <p>Correlation: {corScore}</p>\n        )\n      }\n\n      {graphData.nodes.length > 0 ? (\n        <ForceGraph2D \n          ref={forceGraph}\n          graphData={graphData} \n          linkLabel={(d) =>{ console.log(d) ;return `${d.source.id} > ${d.target.id} <br>Correlation value: ${d.value}`}}\n\n          nodeCanvasObject={(node, ctx, globalScale) => {\n            const label = node.id;\n            const fontSize = 16/globalScale;\n            ctx.font = `${fontSize}px Sans-Serif`;\n            const textWidth= ctx.measureText(label).width;\n            const bckgDimensions = [textWidth, fontSize].map(n=> n + fontSize * 0.2);\n\n            ctx.fillStyle = 'rgba(255, 255, 255, 0.8';\n            ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - bckgDimensions[1] /2, ...bckgDimensions);\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillStyle = \"black\";\n            ctx.fillText(label, node.x, node.y);\n\n            node.__bckgDimensions = bckgDimensions;\n          }}\n\n          nodePointerAreaPaint={(node, color, ctx) => {\n            ctx.fillStyle = color;\n            const bckgDimensions = node.__bckgDimensions;\n            bckgDimensions && ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - bckgDimensions[1] /2, ...bckgDimensions)\n          }}\n\n        />\n      ) : (\n        <></>\n      )}\n    </>\n  );\n};\n","import { useState, useEffect, useRef } from \"react\";\nimport { useCSV } from \"./useCSV\";\nimport { ForceGraph3D } from \"react-force-graph\";\nimport { scaleLinear } from 'd3';\nimport  SpriteText  from 'three-spritetext';\n\nexport const TwoNode3d = () => {\n  const forceGraph = useRef(null);\n\n  const [source, setSource] = useState(null);\n  const [targ, setTarget] = useState(null);\n  const [sourceList, setSourceList] = useState(null);\n  const [targList, setTargList] = useState(null);\n\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\n\n  const [corScore, setCorScore] = useState(null);\n\n\n  const dataURL = [\n    \"https://gist.githubusercontent.com\",\n    \"Emceelamb\",\n    \"184a627df887fc945d202c69333cb133\",\n    \"raw\",\n    \"016259ba32443fd673e01693b30f3f91920aed7c\",\n    //'transformers_2021-11-09.csv'   // AAPL STOCKS\n    \"correlation_bert_2021-10-13_10_59_32.csv\", // BERT\n  ].join(\"/\");\n\n  const data = useCSV(dataURL);\n\n  useEffect(() => {\n    if (!data) {\n      return <>Loading...</>;\n    }\n    console.log(data)\n    setSourceList(data.nodes.filter(n => n[\"id\"].includes('stock')));\n    setTargList(data.nodes.filter(n => !n[\"id\"].includes('stock')));\n  });\n\n  const handleSourceSelect = (e) => {\n    setSource(e.target.value);\n  }\n\n  const handleTargSelect = (e) => {\n    setTarget(e.target.value);\n  }\n\n  const linkDistScale = scaleLinear().domain([1,0]).range([0, 100]);\n  const linkStrengthScale = scaleLinear().domain([0,1]).range([0, 1]);\n\n  useEffect(()=>{\n\n    if(source && targ){\n      const link = findLink(source, targ)\n      setCorScore(link.value)\n      setGraphData({nodes:[{id: source}, {id:targ}], links:[link]})\n    }\n  }, [source, targ])\n\n  useEffect(()=>{\n    if(forceGraph.current){\n      forceGraph.current.d3Force(\"charge\").strength(-500);\n      forceGraph.current.d3Force(\"link\")\n        .distance(link =>{return linkDistScale(link.value)})\n        .strength(link =>{console.log(link.value, linkStrengthScale(link.value)); return linkStrengthScale(link.value)})\n    }\n  }, [graphData])\n\n  const findLink = (src, trg) => {\n    let link = data[\"links\"].filter((l)=> l.source === src && l.target === trg)\n    return link[0]\n  }\n\n  return (\n    <>\n      <label>\n        Select source node:\n        <select name=\"source-list\" onChange={(e) => handleSourceSelect(e)}>\n          <option value=\"none\" selected disabled hidden>Select a source</option>\n          {sourceList &&\n            sourceList.map((node, key) => {\n              return <option key={key}>{node.id}</option>;\n            })}\n        </select>\n      </label>\n\n      <label style={{ marginLeft: \"12px\" }}>\n        Select target node:\n        <select name=\"target-list\" onChange={e => handleTargSelect(e)}>\n          <option value=\"none\" selected disabled hidden>Select a target</option>\n          {targList &&\n            targList.map((node, key) => {\n              return <option key={key}>{node.id}</option>;\n            })}\n        </select>\n      </label>\n\n      <p>Source: {source}</p>\n      {\n        corScore && (\n          <p>Correlation: {corScore}</p>\n        )\n      }\n\n      {graphData.nodes.length > 0 ? (\n        <ForceGraph3D \n          ref={forceGraph}\n          graphData={graphData} \n          linkLabel={(d) =>{ console.log(d) ;return `${d.source.id} > ${d.target.id} <br>Correlation value: ${d.value}`}}\n          linkColor={\"white\"}\n          linkOpacity={1}\n          nodeThreeObject={node => {\n            const sprite = new SpriteText(node.id);\n            sprite.color = \"white\";\n            sprite.textHeight = 8;\n            return sprite;\n          }}\n        />\n      ) : (\n        <></>\n      )}\n    </>\n  );\n};\n","import { useState, useEffect, useRef } from \"react\";\nimport { useCSV } from \"./useCSV\";\nimport { ForceGraph2D } from \"react-force-graph\";\nimport { scaleLinear, select } from 'd3';\n\nexport const TwoNodeD3 = () => {\n  const forceGraph = useRef(null);\n\n  const [source, setSource] = useState(null);\n  const [targ, setTarget] = useState(null);\n  const [sourceList, setSourceList] = useState(null);\n  const [targList, setTargList] = useState(null);\n\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\n\n  const [corScore, setCorScore] = useState(null);\n\n\n  const dataURL = [\n    \"https://gist.githubusercontent.com\",\n    \"Emceelamb\",\n    \"184a627df887fc945d202c69333cb133\",\n    \"raw\",\n    \"016259ba32443fd673e01693b30f3f91920aed7c\",\n    //'transformers_2021-11-09.csv'   // AAPL STOCKS\n    \"correlation_bert_2021-10-13_10_59_32.csv\", // BERT\n  ].join(\"/\");\n\n  const data = useCSV(dataURL);\n\n  useEffect(() => {\n    if (!data) {\n      return <>Loading...</>;\n    }\n    console.log(data)\n    setSourceList(data.nodes.filter(n => n[\"id\"].includes('stock')));\n    setTargList(data.nodes.filter(n => !n[\"id\"].includes('stock')));\n  });\n\n  const handleSourceSelect = (e) => {\n    setSource(e.target.value);\n  }\n\n  const handleTargSelect = (e) => {\n    setTarget(e.target.value);\n  }\n\n  const linkDistScale = scaleLinear().domain([1,0]).range([0, 100]);\n  const linkStrengthScale = scaleLinear().domain([0,1]).range([0, 1]);\n\n  useEffect(()=>{\n\n    if(source && targ){\n      const link = findLink(source, targ)\n      setCorScore(link.value)\n      setGraphData({nodes:[{id: source}, {id:targ}], links:[link]})\n    }\n  }, [source, targ])\n\n\n  const findLink = (src, trg) => {\n    let link = data[\"links\"].filter((l)=> l.source === src && l.target === trg)\n    return link[0]\n  }\n\n  useEffect(()=>{\n    select('#graph')\n      .text('Hello')\n\n  }, [])\n\n  return (\n    <>\n      <label>\n        Select source node:\n        <select name=\"source-list\" onChange={(e) => handleSourceSelect(e)}>\n          <option value=\"none\" selected disabled hidden>Select a source</option>\n          {sourceList &&\n            sourceList.map((node, key) => {\n              return <option key={key}>{node.id}</option>;\n            })}\n        </select>\n      </label>\n\n      <label style={{ marginLeft: \"12px\" }}>\n        Select target node:\n        <select name=\"target-list\" onChange={e => handleTargSelect(e)}>\n          <option value=\"none\" selected disabled hidden>Select a target</option>\n          {targList &&\n            targList.map((node, key) => {\n              return <option key={key}>{node.id}</option>;\n            })}\n        </select>\n      </label>\n\n      <p>Source: {source}</p>\n      {\n        corScore && (\n          <p>Correlation: {corScore}</p>\n        )\n      }\n\n      <div id=\"graph\">\n      </div>\n\n    </>\n  );\n};\n","import { ForceGraph3D, ForceGraph2D } from \"react-force-graph\";\n\nimport { useRef, useState, useEffect, useCallback, useMemo } from \"react\";\nimport { scaleLinear } from \"d3\";\nimport { useData } from \"./useData\";\nimport SpriteText from 'three-spritetext';\n\nexport const Dag = () => {\n  const data = useData(9);\n\n  const forceGraph = useRef(null);\n\n  const myScale = scaleLinear().domain([1, 10]).range([0, 3]);\n  const colorScale = scaleLinear().domain([1, 10]).range([\"#eff2f2\", \"red\"]);\n\n  const linkDistScale = scaleLinear().domain([0,10]).range([0, 100]);\n  const linkStrengthScale = scaleLinear().domain([0,10]).range([0, 1]);\n\n  useEffect(() => {\n    console.log(data);\n    if (!data) {\n      return <>Loading</>;\n    }\n    forceGraph.current.d3Force(\"charge\").strength(-500);\n    // if(forceGraph.current){\n    //   // forceGraph.current.d3Force(\"charge\").strength(-500);\n    //   forceGraph.current.d3Force(\"link\")\n    //     .distance(link =>{return linkDistScale(link.value)})\n    //     .strength(link =>{console.log(link.value, linkStrengthScale(link.value)); return linkStrengthScale(link.value)})\n    // }\n  });\n  return (\n    <div>\n      {data ? (\n        <ForceGraph2D\n          graphData={data}\n          nodeLabel={(d) => d.id}\n          dagMode=\"td\"\n          linkLabel={(d) => `Correlation value: ${d.value}`}\n          // linkCurvature={0.1}\n          // nodeColor={(d) => (d.id[0] === \"$\" ? \"#19686b\" : \"yellow\")}\n          linkWidth={(d) => myScale(d.value)}\n          // linkCurveRotation={1}\n          linkOpacity={0.5}\n          // linkColor={(d) => colorScale(d.value)}\n          // forceEngine={'graph'}\n          ref={forceGraph}\n            dagLevelDistance={100}\n\n          nodeCanvasObject={(node, ctx, globalScale) => {\n            const label = node.id;\n            const fontSize = 12/globalScale;\n            ctx.font = `${fontSize}px Sans-Serif`;\n            const textWidth= ctx.measureText(label).width;\n            const bckgDimensions = [textWidth, fontSize].map(n=> n + fontSize * 0.2);\n\n            ctx.fillStyle = 'rgba(255, 255, 255, 0.8';\n            ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - bckgDimensions[1] /2, ...bckgDimensions);\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillStyle = \"black\";\n            ctx.fillText(label, node.x, node.y);\n\n            node.__bckgDimensions = bckgDimensions;\n          }}\n\n          nodePointerAreaPaint={(node, color, ctx) => {\n            ctx.fillStyle = color;\n            const bckgDimensions = node.__bckgDimensions;\n            bckgDimensions && ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - bckgDimensions[1] /2, ...bckgDimensions)\n          }}\n\n        />\n      ) : (\n        <>Loading</>\n      )}\n    </div>\n  );\n};\n","import \"./App.css\";\nimport {\n  // BrowserRouter as Router,\n  Routes,\n  Route,\n  withRouter,\n  HashRouter as Router,\n  Link,\n} from \"react-router-dom\";\n\nimport { Threedee } from \"./Threedee\";\nimport { Twodee } from \"./Twodee\";\nimport { TwodeePolling } from \"./TwodeePolling\";\nimport { ThreedeePolling } from \"./ThreedeePolling\";\nimport { TwoNode } from \"./TwoNode\";\nimport { TwoNode3d } from \"./TwoNode3d\";\nimport { TwoNodeD3 } from \"./TwoNodeD3\";\nimport { Dag } from './Dag';\n\nconst Nav = () => {\n  return (\n    <div style={{ margin: \"auto\" }}>\n      <p>\n        Electric Vehicles Matrix:\n        <a href=\"https://gist.githubusercontent.com/Emceelamb/565435c5930849fa9ad1b75571ac5d07/raw/d54ed7b4fa0cd936d4c1e7b0164906f330145962/gme_correlation.json\">\n          data\n        </a>\n      </p>\n      <ul className=\"menu\">\n        <li>\n          <Link to=\"/two\">2D</Link>\n        </li>\n        <li>\n          <Link to=\"/three\">3D</Link>\n        </li>\n        <li>\n          <Link to=\"/polling\">2D polling</Link>\n        </li>\n        <li>\n          <Link to=\"/3dpolling\">3D polling</Link>\n        </li>\n        <li>\n          <Link to=\"/2node\">2Node</Link>\n        </li>\n        <li>\n          <Link to=\"/2node3d\">2Node 3d</Link>\n        </li>\n        <li>\n          <Link to=\"/2nodeD3\">2Node D3</Link>\n        </li>\n        <li>\n          <Link to=\"/dag\">Dag</Link>\n        </li>\n      </ul>\n    </div>\n  );\n};\nfunction App() {\n  return (\n    <>\n      <Router basename=\"\">\n        <Nav />\n        <Routes>\n          <Route exact path=\"\" element={<Threedee />} />\n          <Route exact path=\"/three\" element={<Threedee />} />\n          <Route exact path=\"/two\" element={<Twodee />} />\n          <Route exact path=\"/polling\" element={<TwodeePolling />} />\n          <Route exact path=\"/3dpolling\" element={<ThreedeePolling />} />\n          <Route exact path=\"/2node\" element={<TwoNode/>} />\n          <Route exact path=\"/2node3d\" element={<TwoNode3d/>} />\n          <Route exact path=\"/2nodeD3\" element={<TwoNodeD3/>} />\n          <Route exact path=\"/dag\" element={<Dag/>} />\n        </Routes>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}