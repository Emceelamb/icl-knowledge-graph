(this["webpackJsonpknowledge-graph"]=this["webpackJsonpknowledge-graph"]||[]).push([[0],{228:function(e,t,n){},229:function(e,t,n){},296:function(e,t,n){"use strict";n.r(t);var c=n(7),r=n.n(c),a=n(128),i=n.n(a),o=(n(228),n(229),n(31)),u=n(15),l=n(23),s=n(12),d=n(16),f=n(11),b=function(e){var t=Object(c.useState)(null),n=Object(f.a)(t,2),r=n[0],a=n[1],i=["https://gist.githubusercontent.com","Emceelamb","565435c5930849fa9ad1b75571ac5d07","raw","b2904e1d8019318a8fa494261460574731a42b27","gme_correlation_".concat(e,".json")].join("/");return Object(c.useEffect)((function(){var e={nodes:[],links:[]};Object(s.d)(i).then((function(t){return Object(d.a)(new Set(t.map((function(e){return e.parent_node})))).map((function(t){return e.nodes.push({id:t})})),Object(d.a)(new Set(t.map((function(e){return e.child_node})))).map((function(t){0===e.nodes.filter((function(e){return e.id===t})).length&&e.nodes.push({id:t})})),t.map((function(t){e.links.push({source:t.parent_node,target:t.child_node,value:t.score})})),console.log(e),e})).then(a)}),[]),r},j=n(37),O=n(5),h=function(){var e=b(3),t=Object(c.useRef)(null),n=Object(s.f)().domain([1,10]).range([0,3]);Object(s.f)().domain([1,10]).range(["#eff2f2","red"]);return Object(c.useEffect)((function(){if(console.log(e),!e)return Object(O.jsx)(O.Fragment,{children:"Loading"});t.current.d3Force("charge").strength(-500)})),Object(O.jsx)("div",{children:e?Object(O.jsx)(l.b,{graphData:e,nodeLabel:function(e){return e.id},linkLabel:function(e){return"Correlation value: ".concat(e.value)},linkWidth:function(e){return n(e.value)},linkOpacity:.5,ref:t,nodeThreeObject:function(e){var t=new j.a(e.id);return t.color="white",t.textHeight=8,t}}):Object(O.jsx)(O.Fragment,{children:"Loading"})})},g=n(14),p=n.n(g),x=n(20),m=["https://gist.githubusercontent.com","Emceelamb","184a627df887fc945d202c69333cb133","raw","016259ba32443fd673e01693b30f3f91920aed7c","correlation_bert_2021-10-13_10_59_32.csv"].join("/"),v=function(){var e=function(e){var t=Object(c.useState)(null),n=Object(f.a)(t,2),r=n[0],a=n[1],i=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])},o=function(e){return e.map((function(e){var t=e.SYMBOL;delete e.SYMBOL;for(var n=[],c=0,r=Object.entries(e);c<r.length;c++){var a=Object(f.a)(r[c],2),i={source:t,target:a[0],value:+a[1]};n.push(i)}return n}))};return Object(c.useEffect)((function(){var t={nodes:[],links:[]},n=function(){var n=Object(x.a)(p.a.mark((function n(){var c,r,u;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.b)(e);case 2:return c=n.sent,n.next=5,o(c);case 5:return r=n.sent,n.next=8,i(r);case 8:u=n.sent,Object(d.a)(new Set(u.map((function(e){return e.source})))).map((function(e){return t.nodes.push({id:e})})),Object(d.a)(new Set(u.map((function(e){return e.target})))).map((function(e){0===t.nodes.filter((function(t){return t.id===e})).length&&t.nodes.push({id:e})})),u.filter((function(e){return 0!==e.value})).map((function(e){t.links.push({source:e.source,target:e.target,value:e.value})})),a(t);case 16:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),r}(m),t=Object(c.useRef)(null),n=Object(s.f)().domain([0,1]).range([0,20]),r=(Object(s.f)().domain([1,10]).range(["#eff2f2","red"]),Object(s.f)().domain([1,0]).range([0,1e3])),a=Object(s.f)().domain([0,1]).range([0,1]);return Object(c.useEffect)((function(){if(!e)return Object(O.jsx)(O.Fragment,{children:"Loading"});t.current.d3Force("charge").strength(-500),t.current.d3Force("link").distance((function(e){return r(e.value)})).strength((function(e){return console.log(e.value,a(e.value)),a(e.value)}))})),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsxs)("p",{children:["Dataset: ",Object(O.jsx)("a",{href:"https://gist.githubusercontent.com/Emceelamb/184a627df887fc945d202c69333cb133/raw/016259ba32443fd673e01693b30f3f91920aed7c/correlation_bert_2021-10-13_10_59_32.csv",children:"BERT"})]})}),e?Object(O.jsx)(l.a,{ref:t,graphData:e,nodeLabel:function(e){return e.id},linkLabel:function(e){return"".concat(e.source.id," > ").concat(e.target.id," <br>Correlation value: ").concat(e.value)},nodeColor:function(e){return"$"===e.id[0]?"#19686b":"yellow"},linkWidth:function(e){return n(e.value)},linkOpacity:.8,nodeCanvasObject:function(e,t,n){var c=e.id,r=18/n;t.font="".concat(r,"px Sans-Serif");var a=[t.measureText(c).width,r].map((function(e){return e+.2*r}));t.fillStyle="rgba(255, 255, 255, 0.8",t.fillRect.apply(t,[e.x-a[0]/2,e.y-a[1]/2].concat(Object(d.a)(a))),t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(c,e.x,e.y),e.__bckgDimensions=a},nodePointerAreaPaint:function(e,t,n){n.fillStyle=t;var c=e.__bckgDimensions;c&&n.fillRect.apply(n,[e.x-c[0]/2,e.y-c[1]/2].concat(Object(d.a)(c)))}}):Object(O.jsx)(O.Fragment,{children:"Loading"})]})},S=n(13),y=function(){var e,t=Object(c.useState)({nodes:[],links:[]}),n=Object(f.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),o=Object(f.a)(i,2),u=(o[0],o[1],Object(c.useState)(2)),b=Object(f.a)(u,2),j=(b[0],b[1],Object(c.useRef)(null)),h=Object(s.f)().domain([1,10]).range([0,3]),g=(Object(s.f)().domain([1,10]).range(["#eff2f2","red"]),function(e){var t=Object(d.a)(new Set(e.map((function(e){return e.parent_node})))),n=Object(d.a)(new Set(e.map((function(e){return e.child_node})))),c=t.concat(n);return Object(d.a)(new Set(c)).map((function(e){return{id:e}}))}),m=function(){var e=Object(x.a)(p.a.mark((function e(t,n){var c,i,o,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch data",t),c=["https://gist.githubusercontent.com","Emceelamb","565435c5930849fa9ad1b75571ac5d07","raw","b2904e1d8019318a8fa494261460574731a42b27","gme_correlation_".concat(t,".json")].join("/"),e.next=4,fetch(c);case 4:return i=e.sent,e.next=7,i.json();case 7:o=e.sent,u=g(o),l=o.map((function(e){return{source:e.parent_node,target:e.child_node,value:e.score}})),console.log(r),a((function(e){var t,n,c=e.nodes,r=e.links,a=(t=u,n=Object(d.a)(c),t.filter((function(e){return!n.find((function(t){return t.id===e.id}))})));return{nodes:[].concat(Object(d.a)(c),Object(d.a)(a)),links:[].concat(Object(d.a)(r),Object(d.a)(l))}}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(r.nodes.length<1)return console.log("not loaded"),Object(O.jsx)(O.Fragment,{children:"Loading"});j.current.d3Force("charge").strength(-500)}));var v=1;return Object(c.useEffect)((function(){console.log(r,"data refresh")}),[r]),Object(c.useEffect)((function(){m(v);var e=setInterval((function(){v>6&&clearInterval(e),m(v),v>8?v=1:v++}),2e3);return function(){return clearInterval(e)}}),[]),Object(O.jsx)("div",{children:r?Object(O.jsx)(l.a,(e={graphData:r,nodeLabel:function(e){return console.log(e,e.id),e.id},linkLabel:function(e){return"Correlation value: ".concat(e.value)},nodeColor:function(e){return"$"===e.id[0]?"#19686b":"yellow"},linkWidth:function(e){return h(e.value)},linkOpacity:.5,ref:j},Object(S.a)(e,"nodeLabel",(function(e){return e.id})),Object(S.a)(e,"linkLabel",(function(e){return"".concat(e.source.id," > ").concat(e.target.id," <br>Correlation value: ").concat(e.value)})),Object(S.a)(e,"linkOpacity",1),Object(S.a)(e,"nodeCanvasObject",(function(e,t,n){var c=e.id,r=12/n;t.font="".concat(r,"px Sans-Serif");var a=[t.measureText(c).width,r].map((function(e){return e+.2*r}));t.fillStyle="rgba(255, 255, 255, 0.8",t.fillRect.apply(t,[e.x-a[0]/2,e.y-a[1]/2].concat(Object(d.a)(a))),t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(c,e.x,e.y),e.__bckgDimensions=a})),Object(S.a)(e,"nodePointerAreaPaint",(function(e,t,n){n.fillStyle=t;var c=e.__bckgDimensions;c&&n.fillRect.apply(n,[e.x-c[0]/2,e.y-c[1]/2].concat(Object(d.a)(c)))})),e)):Object(O.jsx)(O.Fragment,{children:"Loading..."})})},k=function(){var e=Object(c.useState)({nodes:[],links:[]}),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(f.a)(a,2),o=(i[0],i[1],Object(c.useState)(2)),u=Object(f.a)(o,2),b=(u[0],u[1],Object(c.useRef)(null)),h=Object(s.f)().domain([1,10]).range([0,3]),g=(Object(s.f)().domain([1,10]).range(["#eff2f2","red"]),function(e){var t=Object(d.a)(new Set(e.map((function(e){return e.parent_node})))),n=Object(d.a)(new Set(e.map((function(e){return e.child_node})))),c=t.concat(n);return Object(d.a)(new Set(c)).map((function(e){return{id:e}}))}),m=function(){var e=Object(x.a)(p.a.mark((function e(t,c){var a,i,o,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch data",t),a=["https://gist.githubusercontent.com","Emceelamb","565435c5930849fa9ad1b75571ac5d07","raw","b2904e1d8019318a8fa494261460574731a42b27","gme_correlation_".concat(t,".json")].join("/"),e.next=4,fetch(a);case 4:return i=e.sent,e.next=7,i.json();case 7:o=e.sent,u=g(o),l=o.map((function(e){return{source:e.parent_node,target:e.child_node,value:e.score}})),console.log(n),r((function(e){var t,n,c=e.nodes,r=e.links,a=(t=u,n=Object(d.a)(c),t.filter((function(e){return!n.find((function(t){return t.id===e.id}))})));return{nodes:[].concat(Object(d.a)(c),Object(d.a)(a)),links:[].concat(Object(d.a)(r),Object(d.a)(l))}}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(n.nodes.length<1)return console.log("not loaded"),Object(O.jsx)(O.Fragment,{children:"Loading"});b.current.d3Force("charge").strength(-500)}));var v=1;return Object(c.useEffect)((function(){console.log(n,"data refresh")}),[n]),Object(c.useEffect)((function(){m(v);var e=setInterval((function(){v>6&&clearInterval(e),m(v),v>8?v=1:v++}),2e3);return function(){return clearInterval(e)}}),[]),Object(O.jsx)("div",{children:n?Object(O.jsx)(l.b,{graphData:n,nodeLabel:function(e){return console.log(e,e.id),e.id},linkLabel:function(e){return"Correlation value: ".concat(e.value)},linkWidth:function(e){return h(e.value)},linkOpacity:.5,ref:b,nodeThreeObject:function(e){var t=new j.a(e.id);return t.color="white",t.textHeight=8,t}}):Object(O.jsx)(O.Fragment,{children:"Loading..."})})},_=function(e){var t=Object(c.useState)(null),n=Object(f.a)(t,2),r=n[0],a=n[1],i=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])},o=function(e){return e.map((function(e){var t=e.SYMBOL;delete e.SYMBOL;for(var n=[],c=0,r=Object.entries(e);c<r.length;c++){var a=Object(f.a)(r[c],2),i={source:t,target:a[0],value:+a[1]};n.push(i)}return n}))};return Object(c.useEffect)((function(){var t={nodes:[],links:[]},n=function(){var n=Object(x.a)(p.a.mark((function n(){var c,r,u;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.b)(e);case 2:return c=n.sent,n.next=5,o(c);case 5:return r=n.sent,n.next=8,i(r);case 8:u=n.sent,Object(d.a)(new Set(u.map((function(e){return e.source})))).map((function(e){return t.nodes.push({id:e})})),Object(d.a)(new Set(u.map((function(e){return e.target})))).map((function(e){0===t.nodes.filter((function(t){return t.id===e})).length&&t.nodes.push({id:e})})),u.filter((function(e){return 0!==e.value})),u.map((function(e){t.links.push({source:e.source,target:e.target,value:e.value})})),a(t);case 16:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),r},w=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(null),n=Object(f.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),o=Object(f.a)(i,2),u=o[0],b=o[1],j=Object(c.useState)(null),h=Object(f.a)(j,2),g=h[0],p=h[1],x=Object(c.useState)(null),m=Object(f.a)(x,2),v=m[0],S=m[1],y=Object(c.useState)({nodes:[],links:[]}),k=Object(f.a)(y,2),w=k[0],E=k[1],L=Object(c.useState)(null),F=Object(f.a)(L,2),D=F[0],C=F[1],A=["https://gist.githubusercontent.com","Emceelamb","184a627df887fc945d202c69333cb133","raw","016259ba32443fd673e01693b30f3f91920aed7c","correlation_bert_2021-10-13_10_59_32.csv"].join("/"),R=_(A);Object(c.useEffect)((function(){if(!R)return Object(O.jsx)(O.Fragment,{children:"Loading..."});p(R.nodes.filter((function(e){return e.id.includes("stock")}))),S(R.nodes.filter((function(e){return!e.id.includes("stock")})))}),[R]);var T=Object(s.f)().domain([1,0]).range([0,100]),P=Object(s.f)().domain([0,1]).range([0,1]);Object(c.useEffect)((function(){if(r&&u){var e=I(r,u);C(e.value),E({nodes:[{id:r},{id:u}],links:[e]})}}),[r,u]),Object(c.useEffect)((function(){e.current&&(e.current.d3Force("charge").strength(-500),e.current.d3Force("link").distance((function(e){return T(e.value)})).strength((function(e){return console.log(e.value,P(e.value)),P(e.value)})))}),[w]);var I=function(e,t){return R.links.filter((function(n){return n.source===e&&n.target===t}))[0]};return Object(c.useEffect)((function(){console.log(R)}),[R]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("label",{children:["Select source node:",Object(O.jsxs)("select",{name:"source-list",onChange:function(e){return function(e){a(e.target.value)}(e)},children:[Object(O.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select a source"}),g&&g.map((function(e,t){return Object(O.jsx)("option",{children:e.id},t)}))]})]}),Object(O.jsxs)("label",{style:{marginLeft:"12px"},children:["Select target node:",Object(O.jsxs)("select",{name:"target-list",onChange:function(e){return function(e){b(e.target.value)}(e)},children:[Object(O.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select a target"}),v&&v.map((function(e,t){return Object(O.jsx)("option",{children:e.id},t)}))]})]}),Object(O.jsxs)("p",{children:["Source: ",r]}),D&&Object(O.jsxs)("p",{children:["Correlation: ",D]}),w.nodes.length>0?Object(O.jsx)(l.a,{ref:e,graphData:w,linkLabel:function(e){return console.log(e),"".concat(e.source.id," > ").concat(e.target.id," <br>Correlation value: ").concat(e.value)},nodeCanvasObject:function(e,t,n){var c=e.id,r=16/n;t.font="".concat(r,"px Sans-Serif");var a=[t.measureText(c).width,r].map((function(e){return e+.2*r}));t.fillStyle="rgba(255, 255, 255, 0.8",t.fillRect.apply(t,[e.x-a[0]/2,e.y-a[1]/2].concat(Object(d.a)(a))),t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(c,e.x,e.y),e.__bckgDimensions=a},nodePointerAreaPaint:function(e,t,n){n.fillStyle=t;var c=e.__bckgDimensions;c&&n.fillRect.apply(n,[e.x-c[0]/2,e.y-c[1]/2].concat(Object(d.a)(c)))}}):Object(O.jsx)(O.Fragment,{})]})},E=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(null),n=Object(f.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(null),o=Object(f.a)(i,2),u=o[0],d=o[1],b=Object(c.useState)(null),h=Object(f.a)(b,2),g=h[0],p=h[1],x=Object(c.useState)(null),m=Object(f.a)(x,2),v=m[0],S=m[1],y=Object(c.useState)({nodes:[],links:[]}),k=Object(f.a)(y,2),w=k[0],E=k[1],L=Object(c.useState)(null),F=Object(f.a)(L,2),D=F[0],C=F[1],A=["https://gist.githubusercontent.com","Emceelamb","184a627df887fc945d202c69333cb133","raw","016259ba32443fd673e01693b30f3f91920aed7c","correlation_bert_2021-10-13_10_59_32.csv"].join("/"),R=_(A);Object(c.useEffect)((function(){if(!R)return Object(O.jsx)(O.Fragment,{children:"Loading..."});p(R.nodes.filter((function(e){return e.id.includes("stock")}))),S(R.nodes.filter((function(e){return!e.id.includes("stock")})))}),[R]);var T=Object(s.f)().domain([1,0]).range([0,100]),P=Object(s.f)().domain([0,1]).range([0,1]);Object(c.useEffect)((function(){if(r&&u){var e=I(r,u);C(e.value),E({nodes:[{id:r},{id:u}],links:[e]})}}),[r,u]),Object(c.useEffect)((function(){e.current&&(e.current.d3Force("charge").strength(-500),e.current.d3Force("link").distance((function(e){return T(e.value)})).strength((function(e){return console.log(e.value,P(e.value)),P(e.value)})))}),[w]);var I=function(e,t){return R.links.filter((function(n){return n.source===e&&n.target===t}))[0]};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("label",{children:["Select source node:",Object(O.jsxs)("select",{name:"source-list",onChange:function(e){return function(e){a(e.target.value)}(e)},children:[Object(O.jsx)("option",{value:"none",defaultValue:!0,disabled:!0,hidden:!0,children:"Select a source"}),g&&g.map((function(e,t){return Object(O.jsx)("option",{children:e.id},t)}))]})]}),Object(O.jsxs)("label",{style:{marginLeft:"12px"},children:["Select target node:",Object(O.jsxs)("select",{name:"target-list",onChange:function(e){return function(e){d(e.target.value)}(e)},children:[Object(O.jsx)("option",{value:"none",defaultValue:!0,disabled:!0,hidden:!0,children:"Select a target"}),v&&v.map((function(e,t){return Object(O.jsx)("option",{children:e.id},t)}))]})]}),Object(O.jsxs)("p",{children:["Source: ",r]}),D&&Object(O.jsxs)("p",{children:["Correlation: ",D]}),w.nodes.length>0?Object(O.jsx)(l.b,{ref:e,graphData:w,linkLabel:function(e){return"".concat(e.source.id," > ").concat(e.target.id," <br>Correlation value: ").concat(e.value)},linkColor:"white",linkOpacity:1,nodeThreeObject:function(e){var t=new j.a(e.id);return t.color="white",t.textHeight=8,t}}):Object(O.jsx)(O.Fragment,{})]})},L=function(){Object(c.useRef)(null);var e=Object(c.useState)(null),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),i=Object(f.a)(a,2),o=i[0],u=i[1],l=Object(c.useState)(null),d=Object(f.a)(l,2),b=d[0],j=d[1],h=Object(c.useState)(null),g=Object(f.a)(h,2),p=g[0],x=g[1],m=Object(c.useState)({nodes:[],links:[]}),v=Object(f.a)(m,2),S=v[0],y=v[1],k=Object(c.useState)(null),w=Object(f.a)(k,2),E=w[0],L=w[1],F=Object(c.useState)(!1),D=Object(f.a)(F,2),C=D[0],A=(D[1],Object(c.useState)(!1)),R=Object(f.a)(A,2),T=R[0],P=R[1],I=["https://gist.githubusercontent.com","Emceelamb","184a627df887fc945d202c69333cb133","raw","016259ba32443fd673e01693b30f3f91920aed7c","correlation_bert_2021-10-13_10_59_32.csv"].join("/"),B=_(I);Object(c.useEffect)((function(){if(!B)return Object(O.jsx)(O.Fragment,{children:"Loading..."});j(B.nodes.filter((function(e){return e.id.includes("stock")}))),x(B.nodes.filter((function(e){return!e.id.includes("stock")})))}),[B]);var M=function(e,t){return B.links.filter((function(n){return n.source===e&&n.target===t}))[0]};Object(s.f)().domain([1,0]).range([0,100]),Object(s.f)().domain([0,1]).range([0,1]);Object(c.useEffect)((function(){if(console.log(n,o,"from find link effect"),n&&o){var e=M(n,o);e&&(L(e.value),y({nodes:[{id:n},{id:o}],links:[e]}))}console.log(n,o,"changed")}),[n,o]),Object(c.useEffect)((function(){S&&(Object(s.i)("#graph").selectAll("circle").data(S.nodes).join("circle").transition().delay(100).attr("cx",(function(e,t){return t*S.links[0].value*800+100})).attr("cy","10").attr("r",4),Object(s.i)("#graph").selectAll("rect").data(S.nodes).join("rect").transition().delay(100).attr("x","100").attr("y","10").attr("width",(function(e,t){return S.links[0].value*t*800})).attr("height",1),Object(s.i)("#graph").selectAll("text").data(S.nodes).join("text").transition().delay(100).text((function(e,t){return S.nodes[t].id})).attr("x",(function(e,t){return t*S.links[0].value*800+100})).attr("y","40").style("text-anchor","middle"))}),[S]);var W=function(e){if(!C){console.log("FirstLoad False");for(var t=function(e){setTimeout((function(){P(!1)}),1e3*p.length),setTimeout((function(){u(p[e].id);var t=M(n,o);t&&(L(t.value),y({nodes:[{id:n},{id:o}],links:[t]}))}),1e3*e)},c=0;c<p.length;c++)t(c)}};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("label",{children:["Select source node:",Object(O.jsxs)("select",{name:"source-list",onChange:function(e){return function(e){P(!0),console.log("isAnimating: ",T),r(e.target.value),console.log(n,"is the source from cycle"),W()}(e)},disabled:!!T||null,children:[Object(O.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select a source"}),b&&b.map((function(e,t){return Object(O.jsx)("option",{children:e.id},t)}))]})]}),Object(O.jsxs)("p",{children:["Is Animating: ",""+T]}),C&&Object(O.jsxs)("label",{style:{marginLeft:"12px"},children:["Select target node:",Object(O.jsxs)("select",{name:"target-list",onChange:function(e){return function(e){u(e.target.value)}(e)},children:[Object(O.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select a target"}),p&&p.map((function(e,t){return Object(O.jsx)("option",{children:e.id},t)}))]})]}),Object(O.jsxs)("p",{children:["Source: ",n]}),Object(O.jsxs)("p",{children:["Correlation: ",E]}),Object(O.jsx)("div",{children:Object(O.jsx)("svg",{id:"graph",height:"800",width:"960"})})]})},F=function(){var e=b(9),t=Object(c.useRef)(null),n=Object(s.f)().domain([1,10]).range([0,3]);Object(s.f)().domain([1,10]).range(["#eff2f2","red"]),Object(s.f)().domain([0,10]).range([0,100]),Object(s.f)().domain([0,10]).range([0,1]);return Object(c.useEffect)((function(){if(console.log(e),!e)return Object(O.jsx)(O.Fragment,{children:"Loading"});t.current.d3Force("charge").strength(-500)})),Object(O.jsx)("div",{children:e?Object(O.jsx)(l.a,{graphData:e,nodeLabel:function(e){return e.id},dagMode:"td",linkLabel:function(e){return"Correlation value: ".concat(e.value)},linkWidth:function(e){return n(e.value)},linkOpacity:.5,ref:t,dagLevelDistance:100,nodeCanvasObject:function(e,t,n){var c=e.id,r=12/n;t.font="".concat(r,"px Sans-Serif");var a=[t.measureText(c).width,r].map((function(e){return e+.2*r}));t.fillStyle="rgba(255, 255, 255, 0.8",t.fillRect.apply(t,[e.x-a[0]/2,e.y-a[1]/2].concat(Object(d.a)(a))),t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(c,e.x,e.y),e.__bckgDimensions=a},nodePointerAreaPaint:function(e,t,n){n.fillStyle=t;var c=e.__bckgDimensions;c&&n.fillRect.apply(n,[e.x-c[0]/2,e.y-c[1]/2].concat(Object(d.a)(c)))}}):Object(O.jsx)(O.Fragment,{children:"Loading"})})},D=function(){var e=Object(x.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"PREDICATES",children:[]},t.map((function(e){var t=n.children.findIndex((function(t){return t.name===e.predicate})),c={name:e.pmid,date:e.pubdate,size:1};-1===t?n.children.push({name:e.predicate,children:[c]}):n.children[t].children.push(c)})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=960,A=500;var R=Object(s.j)("%B %d, %Y"),T=function(){var e=function(){var e=Object(c.useState)(null),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(x.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return e.pubdate=new Date(e.pubdate),e},e.next=3,Object(s.b)("https://gist.githubusercontent.com/Emceelamb/c7d6287a1830637325bf6e662d67f37c/raw/d8a48fb76991c2c5f50ce6ae1dbc786c7e9aade0/uniprot_opa1_pmid.csv",t);case 3:return n=e.sent,e.next=6,D(n);case 6:c=e.sent,r(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),n}(),t=Object(c.useRef)(null);Object(c.useEffect)((function(){Object(s.i)(t.current);if(e){console.log(e);var c=Object(s.i)("svg").attr("width",C).attr("height",A).append("g").attr("transform","translate(480,250)"),a=Object(s.e)().size([2*Math.PI,n]),i=Object(s.c)(e).sum((function(e){return e.size}));a(i);var o=Object(s.a)().startAngle((function(e){return e.x0})).endAngle((function(e){return e.x1})).innerRadius((function(e){return e.y0})).outerRadius((function(e){return e.y1}));c.selectAll("path").data(i.descendants()).enter().append("g").attr("class","node").append("path").attr("display",(function(e){return e.depth?null:"none"})).attr("d",o).style("stroke","#fff").style("fill",(function(e){return r((e.children?e:e.parent).data.name)})),c.selectAll(".node").append("text").attr("transform",(function(e){return"translate("+o.centroid(e)+")rotate("+function(e){var t=(e.x0+e.x1)/Math.PI*90;return t<90||t>270?t:t+180}(e)+")"})).attr("dx","-20").attr("dy",".5em").text((function(e){return 1===e.depth?e.data.name:""}));var u=Object(s.i)("body").append("div").attr("class","tooltip").style("opacity",0);c.selectAll(".node").on("mouseover",(function(e,t){u.transition().duration(200).style("opacity",.9),u.html("PMID: ".concat(t.data.name,"<br>Published: ").concat(t.data.date?R(t.data.date):"")).style("left",e.x+"px").style("top",e.y-28+"px")})).on("mouseout",(function(e){u.transition().duration(500).style("opacity",0)}))}}));var n=Math.min(C,A)/2,r=Object(s.g)(s.h);return Object(O.jsxs)(O.Fragment,{children:["OPA1",Object(O.jsx)("svg",{width:C,height:A,ref:t})]})},P=function(){return Object(O.jsxs)("div",{style:{margin:"auto"},children:[Object(O.jsxs)("p",{children:["Electric Vehicles Matrix:",Object(O.jsx)("a",{href:"https://gist.githubusercontent.com/Emceelamb/565435c5930849fa9ad1b75571ac5d07/raw/d54ed7b4fa0cd936d4c1e7b0164906f330145962/gme_correlation.json",children:"data"})]}),Object(O.jsxs)("ul",{className:"menu",children:[Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/two",children:"2D"})}),Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/three",children:"3D"})}),Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/polling",children:"2D polling"})}),Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/3dpolling",children:"3D polling"})}),Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/2node",children:"2Node"})}),Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/2node3d",children:"2Node 3d"})}),Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/2nodeD3",children:"2Node D3"})}),Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/dag",children:"Dag"})}),Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/Sunburst",children:"Sunburst"})})]})]})};var I=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(o.a,{basename:"",children:[Object(O.jsx)(P,{}),Object(O.jsxs)(u.c,{children:[Object(O.jsx)(u.a,{exact:!0,path:"",element:Object(O.jsx)(h,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/three",element:Object(O.jsx)(h,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/two",element:Object(O.jsx)(v,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/polling",element:Object(O.jsx)(y,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/3dpolling",element:Object(O.jsx)(k,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/2node",element:Object(O.jsx)(w,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/2node3d",element:Object(O.jsx)(E,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/2nodeD3",element:Object(O.jsx)(L,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/dag",element:Object(O.jsx)(F,{})}),Object(O.jsx)(u.a,{exact:!0,path:"/sunburst",element:Object(O.jsx)(T,{})})]})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,308)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(I,{})}),document.getElementById("root")),B()}},[[296,1,2]]]);
//# sourceMappingURL=main.60e2f677.chunk.js.map