(this["webpackJsonpknowledge-graph"]=this["webpackJsonpknowledge-graph"]||[]).push([[0],{126:function(e,n,t){},127:function(e,n,t){},194:function(e,n,t){"use strict";t.r(n);var c=t(8),r=t.n(c),a=t(82),o=t.n(a),i=(t(126),t(127),t(42)),u=t(11),l=t(31),s=t(21),d=t(18),j=t(17),f=function(e){var n=Object(c.useState)(null),t=Object(j.a)(n,2),r=t[0],a=t[1],o=["https://gist.githubusercontent.com","Emceelamb","565435c5930849fa9ad1b75571ac5d07","raw","b2904e1d8019318a8fa494261460574731a42b27","gme_correlation_".concat(e,".json")].join("/");return Object(c.useEffect)((function(){var e={nodes:[],links:[]};Object(s.a)(o).then((function(n){return Object(d.a)(new Set(n.map((function(e){return e.parent_node})))).map((function(n){return e.nodes.push({id:n})})),Object(d.a)(new Set(n.map((function(e){return e.child_node})))).map((function(n){0===e.nodes.filter((function(e){return e.id===n})).length&&e.nodes.push({id:n})})),n.map((function(n){e.links.push({source:n.parent_node,target:n.child_node,value:n.score})})),console.log(e),e})).then(a)}),[]),r},b=t(9),O=function(){var e=f(3),n=Object(c.useRef)(null),t=Object(s.b)().domain([1,10]).range([0,3]);Object(s.b)().domain([1,10]).range(["#eff2f2","red"]);return Object(c.useEffect)((function(){if(console.log(e),!e)return Object(b.jsx)(b.Fragment,{children:"Loading"});n.current.d3Force("charge").strength(-500)})),Object(b.jsx)("div",{children:e?Object(b.jsx)(l.b,{graphData:e,nodeLabel:function(e){return e.id},linkLabel:function(e){return"Correlation value: ".concat(e.value)},nodeColor:function(e){return"$"===e.id[0]?"#19686b":"yellow"},linkWidth:function(e){return t(e.value)},linkOpacity:.5,ref:n,onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y,e.fz=e.z}}):Object(b.jsx)(b.Fragment,{children:"Loading"})})},h=function(){var e=f(9),n=Object(c.useRef)(null),t=Object(s.b)().domain([1,10]).range([0,3]);Object(s.b)().domain([1,10]).range(["#eff2f2","red"]);return Object(c.useEffect)((function(){if(console.log(e,"this is teh data"),!e)return Object(b.jsx)(b.Fragment,{children:"Loading"});n.current.d3Force("charge").strength(-500)})),Object(b.jsx)("div",{children:e?Object(b.jsx)(l.a,{graphData:e,nodeLabel:function(e){return e.id},linkLabel:function(e){return"Correlation value: ".concat(e.value)},nodeColor:function(e){return"$"===e.id[0]?"#19686b":"yellow"},linkWidth:function(e){return t(e.value)},linkOpacity:.5,ref:n,onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y}}):Object(b.jsx)(b.Fragment,{children:"Loading"})})},g=t(15),x=t.n(g),p=t(29),m=function(){var e=Object(c.useState)({nodes:[],links:[]}),n=Object(j.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(!1),o=Object(j.a)(a,2),i=(o[0],o[1],Object(c.useState)(2)),u=Object(j.a)(i,2),f=(u[0],u[1],Object(c.useRef)(null)),O=Object(s.b)().domain([1,10]).range([0,3]),h=(Object(s.b)().domain([1,10]).range(["#eff2f2","red"]),function(e){var n=Object(d.a)(new Set(e.map((function(e){return e.parent_node})))),t=Object(d.a)(new Set(e.map((function(e){return e.child_node})))),c=n.concat(t);return Object(d.a)(new Set(c)).map((function(e){return{id:e}}))}),g=function(){var e=Object(p.a)(x.a.mark((function e(n,c){var a,o,i,u,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch data",n),a=["https://gist.githubusercontent.com","Emceelamb","565435c5930849fa9ad1b75571ac5d07","raw","b2904e1d8019318a8fa494261460574731a42b27","gme_correlation_".concat(n,".json")].join("/"),e.next=4,fetch(a);case 4:return o=e.sent,e.next=7,o.json();case 7:i=e.sent,u=h(i),l=i.map((function(e){return{source:e.parent_node,target:e.child_node,value:e.score}})),console.log(t),r((function(e){var n,t,c=e.nodes,r=e.links,a=(n=u,t=Object(d.a)(c),n.filter((function(e){return!t.find((function(n){return n.id===e.id}))})));return{nodes:[].concat(Object(d.a)(c),Object(d.a)(a)),links:[].concat(Object(d.a)(r),Object(d.a)(l))}}));case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(t.nodes.length<1)return console.log("not loaded"),Object(b.jsx)(b.Fragment,{children:"Loading"});f.current.d3Force("charge").strength(-500)}));var m=1;return Object(c.useEffect)((function(){console.log(t,"data refresh")}),[t]),Object(c.useEffect)((function(){g(m);var e=setInterval((function(){m>6&&clearInterval(e),g(m),m>8?m=1:m++}),2e3);return function(){return clearInterval(e)}}),[]),Object(b.jsx)("div",{children:t?Object(b.jsx)(l.a,{graphData:t,nodeLabel:function(e){return console.log(e,e.id),e.id},linkLabel:function(e){return"Correlation value: ".concat(e.value)},nodeColor:function(e){return"$"===e.id[0]?"#19686b":"yellow"},linkWidth:function(e){return O(e.value)},linkOpacity:.5,ref:f,onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y}}):Object(b.jsx)(b.Fragment,{children:"Loading..."})})},v=function(){var e=Object(c.useState)({nodes:[],links:[]}),n=Object(j.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(!1),o=Object(j.a)(a,2),i=(o[0],o[1],Object(c.useState)(2)),u=Object(j.a)(i,2),f=(u[0],u[1],Object(c.useRef)(null)),O=Object(s.b)().domain([1,10]).range([0,3]),h=(Object(s.b)().domain([1,10]).range(["#eff2f2","red"]),function(e){var n=Object(d.a)(new Set(e.map((function(e){return e.parent_node})))),t=Object(d.a)(new Set(e.map((function(e){return e.child_node})))),c=n.concat(t);return Object(d.a)(new Set(c)).map((function(e){return{id:e}}))}),g=function(){var e=Object(p.a)(x.a.mark((function e(n,c){var a,o,i,u,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch data",n),a=["https://gist.githubusercontent.com","Emceelamb","565435c5930849fa9ad1b75571ac5d07","raw","b2904e1d8019318a8fa494261460574731a42b27","gme_correlation_".concat(n,".json")].join("/"),e.next=4,fetch(a);case 4:return o=e.sent,e.next=7,o.json();case 7:i=e.sent,u=h(i),l=i.map((function(e){return{source:e.parent_node,target:e.child_node,value:e.score}})),console.log(t),r((function(e){var n,t,c=e.nodes,r=e.links,a=(n=u,t=Object(d.a)(c),n.filter((function(e){return!t.find((function(n){return n.id===e.id}))})));return{nodes:[].concat(Object(d.a)(c),Object(d.a)(a)),links:[].concat(Object(d.a)(r),Object(d.a)(l))}}));case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(t.nodes.length<1)return console.log("not loaded"),Object(b.jsx)(b.Fragment,{children:"Loading"});f.current.d3Force("charge").strength(-500)}));var m=1;return Object(c.useEffect)((function(){console.log(t,"data refresh")}),[t]),Object(c.useEffect)((function(){g(m);var e=setInterval((function(){m>6&&clearInterval(e),g(m),m>8?m=1:m++}),2e3);return function(){return clearInterval(e)}}),[]),Object(b.jsx)("div",{children:t?Object(b.jsx)(l.b,{graphData:t,nodeLabel:function(e){return console.log(e,e.id),e.id},linkLabel:function(e){return"Correlation value: ".concat(e.value)},nodeColor:function(e){return"$"===e.id[0]?"#19686b":"yellow"},linkWidth:function(e){return O(e.value)},linkOpacity:.5,ref:f,onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y}}):Object(b.jsx)(b.Fragment,{children:"Loading..."})})},k=function(){return Object(b.jsxs)("div",{style:{margin:"auto"},children:[Object(b.jsxs)("p",{children:["Electric Vehicles Matrix:",Object(b.jsx)("a",{href:"https://gist.githubusercontent.com/Emceelamb/565435c5930849fa9ad1b75571ac5d07/raw/d54ed7b4fa0cd936d4c1e7b0164906f330145962/gme_correlation.json",children:"data"})]}),Object(b.jsxs)("ul",{className:"menu",children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/two",children:"2D"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/three",children:"3D"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/polling",children:"2D polling"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/3dpolling",children:"3D polling"})})]})]})};var w=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(i.a,{basename:"",children:[Object(b.jsx)(k,{}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"",element:Object(b.jsx)(O,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/three",element:Object(b.jsx)(O,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/two",element:Object(b.jsx)(h,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/polling",element:Object(b.jsx)(m,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/3dpolling",element:Object(b.jsx)(v,{})})]})]})})},y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,208)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root")),y()}},[[194,1,2]]]);
//# sourceMappingURL=main.d9f1ce5e.chunk.js.map