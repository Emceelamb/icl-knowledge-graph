(this["webpackJsonpknowledge-graph"]=this["webpackJsonpknowledge-graph"]||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var c=n(7),r=n.n(c),a=n(82),o=n.n(a),i=(n(124),n(125),n(34)),u=n(12),l=n(30),s=n(19),d=n(17),f=n(16),b=n(9),j=function(){var e=function(e){var t=Object(c.useState)(null),n=Object(f.a)(t,2),r=n[0],a=n[1],o=["https://gist.githubusercontent.com","Emceelamb","565435c5930849fa9ad1b75571ac5d07","raw","b2904e1d8019318a8fa494261460574731a42b27","gme_correlation_".concat(e,".json")].join("/");return Object(c.useEffect)((function(){var e={nodes:[],links:[]};Object(s.b)(o).then((function(t){return Object(d.a)(new Set(t.map((function(e){return e.parent_node})))).map((function(t){return e.nodes.push({id:t})})),Object(d.a)(new Set(t.map((function(e){return e.child_node})))).map((function(t){0===e.nodes.filter((function(e){return e.id===t})).length&&e.nodes.push({id:t})})),t.map((function(t){e.links.push({source:t.parent_node,target:t.child_node,value:t.score})})),console.log(e),e})).then(a)}),[]),r}(3),t=Object(c.useRef)(null),n=Object(s.c)().domain([1,10]).range([0,3]);Object(s.c)().domain([1,10]).range(["#eff2f2","red"]);return Object(c.useEffect)((function(){if(console.log(e),!e)return Object(b.jsx)(b.Fragment,{children:"Loading"});t.current.d3Force("charge").strength(-500)})),Object(b.jsx)("div",{children:e?Object(b.jsx)(l.b,{graphData:e,nodeLabel:function(e){return e.id},linkLabel:function(e){return"Correlation value: ".concat(e.value)},nodeColor:function(e){return"$"===e.id[0]?"#19686b":"yellow"},linkWidth:function(e){return n(e.value)},linkOpacity:.5,ref:t,onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y,e.fz=e.z}}):Object(b.jsx)(b.Fragment,{children:"Loading"})})},O=n(13),g=n.n(O),h=n(25),p=function(e){var t=Object(c.useState)(null),n=Object(f.a)(t,2),r=n[0],a=n[1],o=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])},i=function(e){return e.map((function(e){var t=e.SYMBOL;delete e.SYMBOL;for(var n=[],c=0,r=Object.entries(e);c<r.length;c++){var a=Object(f.a)(r[c],2),o={source:t,target:a[0],value:+a[1]};n.push(o)}return n}))};return Object(c.useEffect)((function(){var t={nodes:[],links:[]},n=function(){var n=Object(h.a)(g.a.mark((function n(){var c,r,u;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.a)(e);case 2:return c=n.sent,n.next=5,i(c);case 5:return r=n.sent,n.next=8,o(r);case 8:u=n.sent,Object(d.a)(new Set(u.map((function(e){return e.source})))).map((function(e){return t.nodes.push({id:e})})),Object(d.a)(new Set(u.map((function(e){return e.target})))).map((function(e){0===t.nodes.filter((function(t){return t.id===e})).length&&t.nodes.push({id:e})})),u.map((function(e){t.links.push({source:e.source,target:e.target,value:e.value})})),a(t);case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),r},x=["https://gist.githubusercontent.com","Emceelamb","184a627df887fc945d202c69333cb133","raw","016259ba32443fd673e01693b30f3f91920aed7c","correlation_bert_2021-10-13_10_59_32.csv"].join("/"),m=function(){var e=p(x),t=Object(c.useRef)(null),n=Object(s.c)().domain([0,1]).range([0,20]),r=(Object(s.c)().domain([1,10]).range(["#eff2f2","red"]),Object(s.c)().domain([1,0]).range([0,1e3])),a=Object(s.c)().domain([0,1]).range([0,1]);return Object(c.useEffect)((function(){if(!e)return Object(b.jsx)(b.Fragment,{children:"Loading"});t.current.d3Force("charge").strength(-500),t.current.d3Force("link").distance((function(e){return r(e.value)})).strength((function(e){return console.log(e.value,a(e.value)),a(e.value)}))})),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["Dataset: ",Object(b.jsx)("a",{href:"https://gist.githubusercontent.com/Emceelamb/184a627df887fc945d202c69333cb133/raw/016259ba32443fd673e01693b30f3f91920aed7c/correlation_bert_2021-10-13_10_59_32.csv",children:"BERT"})]})}),e?Object(b.jsx)(l.a,{ref:t,graphData:e,nodeLabel:function(e){return e.id},linkLabel:function(e){return console.log(e),"".concat(e.source.id," > ").concat(e.target.id," <br>Correlation value: ").concat(e.value)},nodeColor:function(e){return"$"===e.id[0]?"#19686b":"yellow"},linkWidth:function(e){return n(e.value)},linkOpacity:.8,nodeCanvasObject:function(e,t,n){var c=e.id,r=16/n;t.font="".concat(r,"px Sans-Serif");var a=[t.measureText(c).width,r].map((function(e){return e>.2*r}));t.fillStyle="rgba(255, 255, 255, 0.8",t.fillRect.apply(t,[e.x-a[0]/2,e.y-a[1]/2].concat(Object(d.a)(a))),t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(c,e.x,e.y),e.__bckgDimensions=a},nodePointerAreaPaint:function(e,t,n){n.fillStyle=t;var c=e.__bckgDimensions;c&&n.fillRect.apply(n,[e.x-c[0]/2,e.y-c[1]/2].concat(Object(d.a)(c)))}}):Object(b.jsx)(b.Fragment,{children:"Loading"})]})},v=n(11),k=function(){var e,t=Object(c.useState)({nodes:[],links:[]}),n=Object(f.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(f.a)(o,2),u=(i[0],i[1],Object(c.useState)(2)),j=Object(f.a)(u,2),O=(j[0],j[1],Object(c.useRef)(null)),p=Object(s.c)().domain([1,10]).range([0,3]),x=(Object(s.c)().domain([1,10]).range(["#eff2f2","red"]),function(e){var t=Object(d.a)(new Set(e.map((function(e){return e.parent_node})))),n=Object(d.a)(new Set(e.map((function(e){return e.child_node})))),c=t.concat(n);return Object(d.a)(new Set(c)).map((function(e){return{id:e}}))}),m=function(){var e=Object(h.a)(g.a.mark((function e(t,n){var c,o,i,u,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch data",t),c=["https://gist.githubusercontent.com","Emceelamb","565435c5930849fa9ad1b75571ac5d07","raw","b2904e1d8019318a8fa494261460574731a42b27","gme_correlation_".concat(t,".json")].join("/"),e.next=4,fetch(c);case 4:return o=e.sent,e.next=7,o.json();case 7:i=e.sent,u=x(i),l=i.map((function(e){return{source:e.parent_node,target:e.child_node,value:e.score}})),console.log(r),a((function(e){var t,n,c=e.nodes,r=e.links,a=(t=u,n=Object(d.a)(c),t.filter((function(e){return!n.find((function(t){return t.id===e.id}))})));return{nodes:[].concat(Object(d.a)(c),Object(d.a)(a)),links:[].concat(Object(d.a)(r),Object(d.a)(l))}}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(r.nodes.length<1)return console.log("not loaded"),Object(b.jsx)(b.Fragment,{children:"Loading"});O.current.d3Force("charge").strength(-500)}));var k=1;return Object(c.useEffect)((function(){console.log(r,"data refresh")}),[r]),Object(c.useEffect)((function(){m(k);var e=setInterval((function(){k>6&&clearInterval(e),m(k),k>8?k=1:k++}),2e3);return function(){return clearInterval(e)}}),[]),Object(b.jsx)("div",{children:r?Object(b.jsx)(l.a,(e={graphData:r,nodeLabel:function(e){return console.log(e,e.id),e.id},linkLabel:function(e){return"Correlation value: ".concat(e.value)},nodeColor:function(e){return"$"===e.id[0]?"#19686b":"yellow"},linkWidth:function(e){return p(e.value)},linkOpacity:.5,ref:O,onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y}},Object(v.a)(e,"nodeLabel",(function(e){return e.id})),Object(v.a)(e,"linkLabel",(function(e){return"".concat(e.source.id," > ").concat(e.target.id," <br>Correlation value: ").concat(e.value)})),Object(v.a)(e,"linkOpacity",1),e)):Object(b.jsx)(b.Fragment,{children:"Loading..."})})},S=function(){var e=Object(c.useState)({nodes:[],links:[]}),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(f.a)(a,2),i=(o[0],o[1],Object(c.useState)(2)),u=Object(f.a)(i,2),j=(u[0],u[1],Object(c.useRef)(null)),O=Object(s.c)().domain([1,10]).range([0,3]),p=(Object(s.c)().domain([1,10]).range(["#eff2f2","red"]),function(e){var t=Object(d.a)(new Set(e.map((function(e){return e.parent_node})))),n=Object(d.a)(new Set(e.map((function(e){return e.child_node})))),c=t.concat(n);return Object(d.a)(new Set(c)).map((function(e){return{id:e}}))}),x=function(){var e=Object(h.a)(g.a.mark((function e(t,c){var a,o,i,u,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch data",t),a=["https://gist.githubusercontent.com","Emceelamb","565435c5930849fa9ad1b75571ac5d07","raw","b2904e1d8019318a8fa494261460574731a42b27","gme_correlation_".concat(t,".json")].join("/"),e.next=4,fetch(a);case 4:return o=e.sent,e.next=7,o.json();case 7:i=e.sent,u=p(i),l=i.map((function(e){return{source:e.parent_node,target:e.child_node,value:e.score}})),console.log(n),r((function(e){var t,n,c=e.nodes,r=e.links,a=(t=u,n=Object(d.a)(c),t.filter((function(e){return!n.find((function(t){return t.id===e.id}))})));return{nodes:[].concat(Object(d.a)(c),Object(d.a)(a)),links:[].concat(Object(d.a)(r),Object(d.a)(l))}}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(n.nodes.length<1)return console.log("not loaded"),Object(b.jsx)(b.Fragment,{children:"Loading"});j.current.d3Force("charge").strength(-500)}));var m=1;return Object(c.useEffect)((function(){console.log(n,"data refresh")}),[n]),Object(c.useEffect)((function(){x(m);var e=setInterval((function(){m>6&&clearInterval(e),x(m),m>8?m=1:m++}),2e3);return function(){return clearInterval(e)}}),[]),Object(b.jsx)("div",{children:n?Object(b.jsx)(l.b,{graphData:n,nodeLabel:function(e){return console.log(e,e.id),e.id},linkLabel:function(e){return"Correlation value: ".concat(e.value)},nodeColor:function(e){return"$"===e.id[0]?"#19686b":"yellow"},linkWidth:function(e){return O(e.value)},linkOpacity:.5,ref:j,onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y}}):Object(b.jsx)(b.Fragment,{children:"Loading..."})})},_=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(null),n=Object(f.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(null),i=Object(f.a)(o,2),u=i[0],j=i[1],O=Object(c.useState)(null),g=Object(f.a)(O,2),h=g[0],x=g[1],m=Object(c.useState)(null),v=Object(f.a)(m,2),k=v[0],S=v[1],_=Object(c.useState)({nodes:[],links:[]}),y=Object(f.a)(_,2),w=y[0],E=y[1],L=Object(c.useState)(null),F=Object(f.a)(L,2),C=F[0],D=F[1],R=["https://gist.githubusercontent.com","Emceelamb","184a627df887fc945d202c69333cb133","raw","016259ba32443fd673e01693b30f3f91920aed7c","correlation_bert_2021-10-13_10_59_32.csv"].join("/"),I=p(R);Object(c.useEffect)((function(){if(!I)return Object(b.jsx)(b.Fragment,{children:"Loading..."});console.log(I),x(I.nodes.filter((function(e){return e.id.includes("stock")}))),S(I.nodes.filter((function(e){return!e.id.includes("stock")})))}));var B=Object(s.c)().domain([1,0]).range([0,100]),T=Object(s.c)().domain([0,1]).range([0,1]);Object(c.useEffect)((function(){if(r&&u){var e=A(r,u);D(e.value),E({nodes:[{id:r},{id:u}],links:[e]})}}),[r,u]),Object(c.useEffect)((function(){e.current&&(e.current.d3Force("charge").strength(-500),e.current.d3Force("link").distance((function(e){return B(e.value)})).strength((function(e){return console.log(e.value,T(e.value)),T(e.value)})))}),[w]);var A=function(e,t){return I.links.filter((function(n){return n.source===e&&n.target===t}))[0]};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("label",{children:["Select source node:",Object(b.jsxs)("select",{name:"source-list",onChange:function(e){return function(e){a(e.target.value)}(e)},children:[Object(b.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select a source"}),h&&h.map((function(e,t){return Object(b.jsx)("option",{children:e.id},t)}))]})]}),Object(b.jsxs)("label",{style:{marginLeft:"12px"},children:["Select target node:",Object(b.jsxs)("select",{name:"target-list",onChange:function(e){return function(e){j(e.target.value)}(e)},children:[Object(b.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select a target"}),k&&k.map((function(e,t){return Object(b.jsx)("option",{children:e.id},t)}))]})]}),Object(b.jsxs)("p",{children:["Source: ",r]}),C&&Object(b.jsxs)("p",{children:["Correlation: ",C]}),w.nodes.length>0?Object(b.jsx)(l.a,{ref:e,graphData:w,linkLabel:function(e){return console.log(e),"".concat(e.source.id," > ").concat(e.target.id," <br>Correlation value: ").concat(e.value)},nodeCanvasObject:function(e,t,n){var c=e.id,r=16/n;t.font="".concat(r,"px Sans-Serif");var a=[t.measureText(c).width,r].map((function(e){return e>.2*r}));t.fillStyle="rgba(255, 255, 255, 0.8",t.fillRect.apply(t,[e.x-a[0]/2,e.y-a[1]/2].concat(Object(d.a)(a))),t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(c,e.x,e.y),e.__bckgDimensions=a},nodePointerAreaPaint:function(e,t,n){n.fillStyle=t;var c=e.__bckgDimensions;c&&n.fillRect.apply(n,[e.x-c[0]/2,e.y-c[1]/2].concat(Object(d.a)(c)))}}):Object(b.jsx)(b.Fragment,{})]})},y=function(){return Object(b.jsxs)("div",{style:{margin:"auto"},children:[Object(b.jsxs)("p",{children:["Electric Vehicles Matrix:",Object(b.jsx)("a",{href:"https://gist.githubusercontent.com/Emceelamb/565435c5930849fa9ad1b75571ac5d07/raw/d54ed7b4fa0cd936d4c1e7b0164906f330145962/gme_correlation.json",children:"data"})]}),Object(b.jsxs)("ul",{className:"menu",children:[Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/two",children:"2D"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/three",children:"3D"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/polling",children:"2D polling"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/3dpolling",children:"3D polling"})}),Object(b.jsx)("li",{children:Object(b.jsx)(i.b,{to:"/2node",children:"2Node"})})]})]})};var w=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(i.a,{basename:"",children:[Object(b.jsx)(y,{}),Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{exact:!0,path:"",element:Object(b.jsx)(j,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/three",element:Object(b.jsx)(j,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/two",element:Object(b.jsx)(m,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/polling",element:Object(b.jsx)(k,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/3dpolling",element:Object(b.jsx)(S,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/2node",element:Object(b.jsx)(_,{})})]})]})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,206)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root")),E()}},[[192,1,2]]]);
//# sourceMappingURL=main.0c5a1690.chunk.js.map